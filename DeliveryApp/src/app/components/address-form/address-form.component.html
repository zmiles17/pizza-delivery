<form [formGroup]="addressForm" (change)="customerChange()">

  <div class="row">
    <div class="col">
      <mat-form-field class="full-width" appearance="fill" color="accent">
        <mat-label>First name</mat-label>
        <input matInput formControlName="firstName">
        <mat-error *ngIf="addressForm.controls['firstName'].hasError('required')">
          First name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="full-width" appearance="fill" color="accent">
        <mat-label>Last name</mat-label>
        <input matInput formControlName="lastName">
        <mat-error *ngIf="addressForm.controls['lastName'].hasError('required')">
          Last name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <mat-form-field class="full-width" appearance="fill" color="accent">
        <mat-label>Address</mat-label>
        <textarea matInput formControlName="address"></textarea>
        <mat-error *ngIf="addressForm.controls['address'].hasError('required')">
          Address is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <mat-form-field class="full-width" appearance="fill" color="accent">
        <mat-label>City</mat-label>
        <input matInput formControlName="city">
        <mat-error *ngIf="addressForm.controls['city'].hasError('required')">
          City is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="full-width" appearance="fill" color="accent">
        <mat-label>State</mat-label>
        <mat-select formControlName="state">
          <mat-option *ngFor="let state of states" [value]="state.abbreviation">
            {{ state.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="addressForm.controls['state'].hasError('required')">
          State is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <mat-form-field class="full-width" appearance="fill" color="accent">
        <mat-label>Zip Code</mat-label>
        <input matInput #postalCode type="text" formControlName="zip"
          mask="00000||00000-0000" [showMaskTyped]="true">
        <mat-error *ngIf="addressForm.controls['zip'].hasError('required')">
          Zip Code is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="full-width" appearance="fill" color="accent">
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phone" mask="(000) 000-0000" prefix="+1"
          [showMaskTyped]="true">
        <mat-error *ngIf="addressForm.controls['phone'].hasError('required')">
          Phone is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <button [disabled]="verifyButtonDisabled" mat-raised-button color="accent" (click)="verifyAddress()">
      Verify Address
      <mat-icon>verified</mat-icon>
    </button>
  </div>
  <button mat-button matStepperPrevious>Back</button>
  <button mat-button matStepperNext>Next</button>
</form>